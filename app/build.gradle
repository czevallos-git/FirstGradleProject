plugins {
    id 'java'
    id 'application'
}

repositories {
    maven {
        url = uri("https://maven.pkg.github.com/czevallos-git/OlivePressJava")
        credentials {
            username = project.findProperty("gpr.user") ?: ''
            password = project.findProperty("gpr.token") ?: ''
        }
    }
}

dependencies {
    implementation 'com.example:myolivepress:1.0.1'
}

// Apply a specific Java toolchain to ease working on different environments.
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

tasks.named('jar') {
    manifest {
        attributes(
            'Main-Class': 'org.example.App',
            'Manifest-Version': '1.0.1'
        )
    }

    doFirst {
        println "Starting building process"
    }
}

application {
    // Define the main class for the application.
    mainClass = 'org.example.App'
}